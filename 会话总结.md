# ä¼šè¯æ€»ç»“ - Predict Trading Bot

> **ä¸‹æ¬¡å¯¹è¯æ—¶ï¼ŒæŠŠè¿™ä¸ªæ–‡ä»¶å†…å®¹å‘ç»™æˆ‘ï¼Œæˆ‘å°±èƒ½å¿«é€Ÿäº†è§£é¡¹ç›®æƒ…å†µ**

---

## ğŸ“‹ é¡¹ç›®æ¦‚å†µ

**é¡¹ç›®åç§°**: Polymarket â†” Predict.fun å¥—åˆ©ç›‘æ§ç³»ç»Ÿ
**é¡¹ç›®è·¯å¾„**: `C:\Users\Administrator\predict-trading-bot`
**GitHub**: https://github.com/knifecat11-design/predict-trading-bot
**éƒ¨ç½²å¹³å°**: Railway (24/7 è¿è¡Œ)

---

## ğŸ”‘ å…³é”®é…ç½®

### Telegram é€šçŸ¥
- **Bot Token**: `8273809449:AAHKO7J_gcNxBpTvc6X_SGWGIZwKKjc4H3Q`
- **Chat ID**: `7944527195`

### Predict.fun
- **API Key**: `1b0c25d4-8ca6-4aa8-8910-cd72b311e4f6`
- **API çŠ¶æ€**: ç”³è¯·ä¸­ï¼Œå½“å‰ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®

### Polymarket
- **API**: å…¬å¼€ APIï¼Œæ— éœ€è®¤è¯
- **API çŠ¶æ€**: æœªæ¥å…¥çœŸå®æ•°æ®

### Railway ç¯å¢ƒå˜é‡
```
TELEGRAM_BOT_TOKEN=8273809449:AAHKO7J_gcNxBpTvc6X_SGWGIZwKKjc4H3Q
TELEGRAM_CHAT_ID=7944527195
PREDICT_API_KEY=1b0c25d4-8ca6-4aa8-8910-cd72b311e4f6
MIN_ARBITRAGE_THRESHOLD=2.0
SCAN_INTERVAL=10
```

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. å¥—åˆ©ç›‘æ§ (`arbitrage_main.py`)
- **ç­–ç•¥**: Yesä»·æ ¼ + Noä»·æ ¼ < 100% æ—¶å¥—åˆ©
- **åŒå‘æ£€æµ‹**:
  - Polymarket ä¹°Yes + Predict ä¹°No
  - Predict ä¹°Yes + Polymarket ä¹°No
- **é€šçŸ¥æ¡ä»¶**: å¥—åˆ©ç©ºé—´ â‰¥ 2%
- **æ‰«æé—´éš”**: 10 ç§’
- **å†·å´æ—¶é—´**: 5åˆ†é’Ÿ/å¸‚åœº

### 2. è‡ªåŠ¨æŒ‚å• (`main.py`)
- Â±6% èŒƒå›´å†…æŒ‚å•
- ä»·æ ¼æ¥è¿‘æ—¶è‡ªåŠ¨æ’¤å•é‡æŒ‚
- é£é™©æ•å£ç®¡ç†

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
predict-trading-bot/
â”œâ”€â”€ arbitrage_main.py       # å¥—åˆ©ç›‘æ§ä¸»ç¨‹åº âœ… Railway è¿è¡Œä¸­
â”œâ”€â”€ start_arbitrage.py      # å¯åŠ¨åŒ…è£…å™¨ âœ… æ–°å¢
â”œâ”€â”€ main.py                 # è‡ªåŠ¨æŒ‚å•ä¸»ç¨‹åº
â”œâ”€â”€ simple_test.py          # ç®€åŒ–æµ‹è¯•ç¨‹åº
â”œâ”€â”€ monitor.py              # æœ¬åœ°ç›‘æ§å·¥å…· âœ… æ–°å¢
â”œâ”€â”€ health_check.py         # å¥åº·æ£€æŸ¥è„šæœ¬ âœ… æ–°å¢
â”œâ”€â”€ config.yaml             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ railway.json            # Railway éƒ¨ç½²é…ç½® âœ… å·²æ›´æ–°
â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ å¿«é€Ÿéƒ¨ç½².md             # Railway éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ ç›‘æ§å·¥å…·è¯´æ˜.md         # ç›‘æ§å·¥å…·æ–‡æ¡£ âœ… æ–°å¢
â”œâ”€â”€ ä¼šè¯æ€»ç»“.md             # æœ¬æ–‡ä»¶
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ trading_arbitrage.log # è¿è¡Œæ—¥å¿—
â””â”€â”€ src/
    â”œâ”€â”€ api_client.py       # Predict API å®¢æˆ·ç«¯
    â”œâ”€â”€ polymarket_api.py   # Polymarket API å®¢æˆ·ç«¯
    â”œâ”€â”€ arbitrage_monitor.py# å¥—åˆ©ç›‘æ§é€»è¾‘ âœ… å·²ä¼˜åŒ–
    â”œâ”€â”€ strategy.py         # æŒ‚å•ç­–ç•¥
    â”œâ”€â”€ risk_manager.py     # é£é™©ç®¡ç†
    â”œâ”€â”€ notifier.py         # Telegram é€šçŸ¥ âœ… å·²ä¼˜åŒ–
    â””â”€â”€ config_helper.py    # é…ç½®è¾…åŠ©
```

---

## ğŸš€ å½“å‰çŠ¶æ€

- âœ… Railway éƒ¨ç½²æˆåŠŸ
- âœ… Telegram é€šçŸ¥æ­£å¸¸
- âœ… é”™è¯¯å¤„ç†å·²å¢å¼º
- âœ… æ·»åŠ å¿ƒè·³å’Œç›‘æ§
- â³ ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼ˆç­‰å¾…çœŸå® APIï¼‰

---

## ğŸ”§ æœ€è¿‘ä¿®å¤ (2026-02-05)

### 1. æ··åˆæ¨¡å¼åŠŸèƒ½ (æœ€æ–°)
- **æ–°å¢**: æ”¯æŒæ··åˆæ¨¡å¼ - Polymarket çœŸå®æ•°æ® + Predict.fun æ¨¡æ‹Ÿæ•°æ®
- **é»˜è®¤å¯ç”¨**: `USE_HYBRID_MODE=true`ï¼ˆæ— éœ€ API Key å³å¯å¼€å§‹ç›‘æ§ï¼‰
- **ç¯å¢ƒå˜é‡**:
  - `USE_HYBRID_MODE=true` - Polymarket çœŸå® + Predict.fun æ¨¡æ‹Ÿï¼ˆé»˜è®¤ï¼‰
  - `USE_REAL_API=true` - å®Œå…¨çœŸå®æ¨¡å¼ï¼ˆéœ€è¦ä¸¤ä¸ª APIï¼‰
  - `USE_HYBRID_MODE=false` - å®Œå…¨æ¨¡æ‹Ÿæ¨¡å¼
- æäº¤: `2363b5a`

### 2. Logger åˆå§‹åŒ–é¡ºåºä¿®å¤
- **é—®é¢˜**: ä»£ç åœ¨ä½¿ç”¨ `logger` å‰æœªåˆå§‹åŒ–ï¼Œå¯¼è‡´ `UnboundLocalError`
- **ä¿®å¤**: å°† `setup_logging()` è°ƒç”¨ç§»åˆ° `logger` ä½¿ç”¨ä¹‹å‰
- æäº¤: `74afbee`

### 2. API ç«¯ç‚¹ä¿®å¤
- **Polymarket**: ä¿®å¤ base URL ä» `api.polymarket.com` æ”¹ä¸º `gamma-api.polymarket.com`
- **Predict.fun**: æ·»åŠ  `/v1` API ç‰ˆæœ¬å‰ç¼€åˆ°æ‰€æœ‰ç«¯ç‚¹
- **åˆ›å»º API ç”³è¯·æŒ‡å—**: è¯¦ç»†è¯´æ˜å¦‚ä½•ç”³è¯·ä¸¤ä¸ªå¹³å°çš„ API è®¿é—®æƒé™
- æäº¤: `26a7cb1`

### 2. Railway å¥åº·æ£€æŸ¥ä¿®å¤
- **ç¦ç”¨ HTTP å¥åº·æ£€æŸ¥**: åå°ç›‘æ§ç¨‹åºä¸æä¾› HTTP æœåŠ¡å™¨ï¼Œè®¾ç½® `healthcheckPath: null`
- **è§£å†³åå¤å´©æºƒé—®é¢˜**: Railway ä¹‹å‰å›  `/` è·¯å¾„æ— å“åº”è€Œåˆ¤å®šæœåŠ¡ä¸å¥åº·
- æäº¤: `0c06bb7`

### 2. å…³é”® Bug ä¿®å¤
- **ä¿®å¤ `arbitrage_main.py` ç¼ºå°‘ `requests` å¯¼å…¥**: æ·»åŠ ç¼ºå¤±çš„ `import requests`ï¼Œé˜²æ­¢ç½‘ç»œé”™è¯¯å¤„ç†æ—¶å´©æºƒ
- **ç»Ÿä¸€å¯åŠ¨å‘½ä»¤**: ä¿®å¤ `nixpacks.toml` ä¸ `railway.json` å¯åŠ¨å‘½ä»¤ä¸ä¸€è‡´é—®é¢˜
- æäº¤: `a616032`

### 2. Telegram é€šçŸ¥ä¿®å¤
- ä¿®å¤ HTML ç‰¹æ®Šå­—ç¬¦æœªè½¬ä¹‰å¯¼è‡´æ¨é€å¤±è´¥çš„é—®é¢˜
- å¢åŠ è¶…æ—¶æ—¶é—´åˆ° 15 ç§’
- æ·»åŠ æ›´è¯¦ç»†çš„é”™è¯¯æ—¥å¿—ï¼ˆé”™è¯¯ç ã€æè¿°ï¼‰

### 3. é”™è¯¯å¤„ç†å¢å¼º
- åˆ†ç±»å¤„ç†ä¸åŒç±»å‹å¼‚å¸¸ï¼ˆç½‘ç»œã€ç±»å‹ã€å±æ€§ç­‰ï¼‰
- æ·»åŠ è¿ç»­é”™è¯¯è®¡æ•°å’Œè‡ªåŠ¨é€€é¿æœºåˆ¶
- å®Œæ•´çš„å¼‚å¸¸å †æ ˆè®°å½•

### 4. ç›‘æ§å’Œå¥åº·æ£€æŸ¥
- æ·»åŠ æ¯å°æ—¶å¿ƒè·³æ—¥å¿—
- å®šæœŸè¾“å‡ºç»Ÿè®¡ä¿¡æ¯
- æ”¹è¿› Railway ç¯å¢ƒæ£€æµ‹ï¼ˆ`RAILWAY_SERVICE_NAME`ï¼‰

### 5. æ–°å¢å·¥å…·è„šæœ¬
- `start_arbitrage.py`: å¯åŠ¨åŒ…è£…å™¨ï¼Œæ•è·æ‰€æœ‰æœªå¤„ç†å¼‚å¸¸
- `monitor.py`: æœ¬åœ°ç›‘æ§å·¥å…·ï¼ŒæŸ¥çœ‹ç»Ÿè®¡ã€æ—¥å¿—ã€é”™è¯¯
- `health_check.py`: Railway å¥åº·æ£€æŸ¥è„šæœ¬
- `ç›‘æ§å·¥å…·è¯´æ˜.md`: å·¥å…·ä½¿ç”¨æ–‡æ¡£

### 6. æ•°æ®éªŒè¯
- åœ¨ `arbitrage_monitor.py` ä¸­æ·»åŠ å±æ€§å­˜åœ¨æ€§æ£€æŸ¥
- é¿å… None å€¼å¯¼è‡´çš„ AttributeError

---

## ğŸ“ å¾…åŠäº‹é¡¹

- [ ] è·å– Polymarket çœŸå® API
- [ ] è·å– Predict.fun çœŸå® API
- [ ] æ¥å…¥çœŸå®æ•°æ®æº
- [ ] æ·»åŠ æ›´å¤šå¸‚åœºç›‘æ§
- [ ] å®ç°è‡ªåŠ¨æŒ‚å•åŠŸèƒ½éƒ¨ç½²

---

## ğŸ’¡ ä¸‹æ¬¡å¯¹è¯æç¤º

å¦‚æœéœ€è¦ç»§ç»­å¼€å‘ï¼Œå¯ä»¥ï¼š
1. **å‘é€è¿™ä¸ªæ–‡ä»¶å†…å®¹**ç»™æˆ‘
2. å‘Šè¯‰æˆ‘ä½ æƒ³åšä»€ä¹ˆï¼ˆä¾‹å¦‚ï¼š"æ¥å…¥çœŸå® API"ã€"ä¼˜åŒ–ä»£ç "ç­‰ï¼‰
3. æˆ‘ä¼šå¿«é€Ÿäº†è§£é¡¹ç›®å¹¶ç»§ç»­å¸®åŠ©ä½ 

---

## ğŸ” æ•…éšœæ’æŸ¥

### ç¨‹åºé¢‘ç¹é‡å¯
- æ£€æŸ¥ Railway æ—¥å¿—
- ä½¿ç”¨ `python monitor.py errors` æŸ¥çœ‹é”™è¯¯
- éªŒè¯ç¯å¢ƒå˜é‡é…ç½®

### Telegram æ¨é€å¤±è´¥
- éªŒè¯ Bot Token å’Œ Chat ID
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æŸ¥çœ‹å…·ä½“é”™è¯¯æè¿°

---

**åˆ›å»ºæ—¥æœŸ**: 2026-02-04
**æœ€åæ›´æ–°**: 2026-02-05 (é”™è¯¯å¤„ç†å¢å¼º + ç›‘æ§å·¥å…·)
