# Predict.fun 交易配置文件示例
# 复制此文件为 config.yaml 并填入你的实际配置

# API 配置
api:
  base_url: "https://api.predict.fun"
  api_key: "YOUR_PREDICT_API_KEY"  # 从 Discord 申请
  ws_url: "wss://api.predict.fun/ws"

# 市场配置
market:
  market_id: "YOUR_MARKET_ID"  # 目标市场ID
  base_position_size: 10       # 基础仓位大小（Yes代币数量）
  max_exposure: 100             # 最大风险敞口

# 挂单策略
strategy:
  spread_percent: 6.0           # 挂单范围（当前价格±6%）
  cancel_threshold: 0.5         # 撤单阈值（距离挂单价0.5%时撤单）
  refresh_interval: 5           # 检查间隔（秒）

# 风险管理
risk:
  max_orders_per_side: 3        # 每侧最大挂单数
  min_price: 0.01               # 最低价格限制
  max_price: 0.99               # 最高价格限制
  daily_loss_limit: 50          # 每日最大损失限制

# 日志配置
logging:
  level: "INFO"                 # DEBUG, INFO, WARNING, ERROR
  file: "logs/trading.log"

# Polymarket 配置
polymarket:
  base_url: "https://gamma-api.polymarket.com"
  enabled: true                 # 是否启用Polymarket数据

# Probable.markets 配置
probable:
  base_url: "https://market-api.probable.markets/public/api/v1"
  enabled: true                 # 是否启用Probable Markets数据
  cache_seconds: 90             # 缓存时间（秒）
  # 注意：Probable Markets API 是公开的，不需要认证
  # 订单簿 API 目前不可用（返回 500 错误），价格从市场数据推导

# Opinion.trade 配置
opinion:
  base_url: "https://proxy.opinion.trade:8443/openapi"
  api_key: "YOUR_OPINION_API_KEY"
  enabled: false                # 是否启用 Opinion.trade

# Kalshi 配置
kalshi:
  base_url: "https://kalshi.com"
  enabled: true                 # Kalshi API 是公开的

# 套利监控配置
arbitrage:
  enabled: true                 # 是否启用套利监控
  min_arbitrage_threshold: 2.0  # 最小套利空间阈值（%），Yes+No < 100-2% 时通知
  scan_interval: 10             # 扫描间隔（秒）
  cooldown_minutes: 5           # 同一市场通知冷却时间（分钟）
  # 跨平台套利配对
  pairs:
    - polymarket-probable       # Polymarket vs Probable Markets
    - polymarket-predict        # Polymarket vs Predict.fun
    - polymarket-opinion        # Polymarket vs Opinion.trade
    - polymarket-kalshi         # Polymarket vs Kalshi

# WebSocket 实时监控配置
websocket:
  enabled: true                 # 是否启用 WebSocket 实时监控
  num_connections: 6            # 并行 WebSocket 连接数（每个连接监控约 250 个市场）
  markets_per_connection: 250   # 每个连接监控的市场数量
  min_liquidity: 10000          # 最小流动性要求（美元）
  max_days: 7                   # 最大结算天数（只监控即将结算的市场）
  monitor_duration: 3600        # 每次监控持续时间（秒）

# 智能市场匹配配置
market_match:
  min_confidence: 0.2           # 最小匹配置信度（降低以提高匹配率）
  max_matches: 10                # 每个市场最大匹配候选数量
  cache_minutes: 30             # 匹配结果缓存时间（分钟）
  # 手动市场映射（可选，用于覆盖自动匹配）
  # 格式：polymarket_id: {predict_id: "...", probable_id: "...", opinion_id: "..."}
  manual_mappings:
    # "0x1234567890abcdef":
    #   predict_id: "market-abc-123"
    #   probable_id: "market-xyz-789"
    #   opinion_id: "market-opinion-456"

# 通知配置
notification:
  telegram:
    enabled: true               # 启用Telegram通知
    bot_token: "YOUR_BOT_TOKEN"  # 从 @BotFather 获取
    chat_id: "YOUR_CHAT_ID"     # 从 @userinfobot 获取

  wechat:
    enabled: false              # 微信推送已停用
    service: "serverchan"
    sckey: ""
    token: ""
